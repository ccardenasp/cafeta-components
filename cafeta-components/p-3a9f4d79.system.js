var __extends=this&&this.__extends||function(){var e=function(t,i){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return e(t,i)};return function(t,i){e(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();System.register(["./p-595df214.system.js"],(function(e){"use strict";var t,i,r,n,o,a,s,u,l,c,d,f,v,h,g,p,m,w,b,y,M,_,A,T,j,k,S,I,D,L,N,E,x,C,O,P,V,z,Q;return{setters:[function(e){t=e.g;i=e.C;r=e.i;n=e.t;o=e.a;a=e.P;s=e.I;u=e.b;l=e.c;c=e.T;d=e.d;f=e.e;v=e.f;h=e.p;g=e.h;p=e.j;m=e.k;w=e.l;b=e.m;y=e.n;M=e.R;_=e.o;A=e.W;T=e.q;j=e.M;k=e.r;S=e.s;I=e.V;D=e.u;L=e.F;N=e.K;E=e.v;x=e.w;C=e.B;O=e.x;P=e.y;V=e.z;z=e.A;Q=e.D}],execute:function(){
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
function U(e){var t=e.next();if(t.done){return null}return t.value}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function B(){return function(t){t.on("element:figure",e)};function e(e,i,r){if(!r.consumable.test(i.viewItem,{name:true,classes:"image"})){return}var n=t(i.viewItem);if(!n||!n.hasAttribute("src")||!r.consumable.test(n,{name:true})){return}var o=r.convertItem(n,i.modelCursor);var a=U(o.modelRange.getItems());if(!a){return}r.convertChildren(i.viewItem,a);r.updateConversionResult(a,i)}}function F(){return function(t){t.on("attribute:srcset:image",e)};function e(e,i,r){if(!r.consumable.consume(i.item,e.name)){return}var n=r.writer;var o=r.mapper.toViewElement(i.item);var a=t(o);if(i.attributeNewValue===null){var s=i.attributeOldValue;if(s.data){n.removeAttribute("srcset",a);n.removeAttribute("sizes",a);if(s.width){n.removeAttribute("width",a)}}}else{var s=i.attributeNewValue;if(s.data){n.setAttribute("srcset",s.data,a);n.setAttribute("sizes","100vw",a);if(s.width){n.setAttribute("width",s.width,a)}}}}}function Y(e){return function(t){t.on("attribute:"+e+":image",i)};function i(e,i,r){if(!r.consumable.consume(i.item,e.name)){return}var n=r.writer;var o=r.mapper.toViewElement(i.item);var a=t(o);n.setAttribute(i.attributeKey,i.attributeNewValue||"",a)}}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var R=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.refresh=function(){this.isEnabled=r(this.editor.model)};t.prototype.execute=function(e){var t=this.editor.model;for(var i=0,r=n(e.source);i<r.length;i++){var a=r[i];o(t,{src:a})}};return t}(i);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var W=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t,"pluginName",{get:function(){return"ImageEditing"},enumerable:false,configurable:true});t.prototype.init=function(){var e=this.editor;var t=e.model.schema;var i=e.t;var r=e.conversion;e.editing.view.addObserver(s);t.register("image",{isObject:true,isBlock:true,allowWhere:"$block",allowAttributes:["alt","src","srcset"]});r.for("dataDowncast").elementToElement({model:"image",view:function(e,t){var i=t.writer;return Z(i)}});r.for("editingDowncast").elementToElement({model:"image",view:function(e,t){var r=t.writer;return u(Z(r),r,i("image widget"))}});r.for("downcast").add(Y("src")).add(Y("alt")).add(F());r.for("upcast").elementToElement({view:{name:"img",attributes:{src:true}},model:function(e,t){var i=t.writer;return i.createElement("image",{src:e.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(e){var t={data:e.getAttribute("srcset")};if(e.hasAttribute("width")){t.width=e.getAttribute("width")}return t}}}).add(B());e.commands.add("imageInsert",new R(e))};return t}(a);function Z(e){var t=e.createEmptyElement("img");var i=e.createContainerElement("figure",{class:"image"});e.insert(e.createPositionAt(i,0),t);return i}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var H=[l("arrowUp"),l("arrowRight"),l("arrowDown"),l("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(var K=112;K<=135;K++){H.push(K)}function J(e){if(e.ctrlKey){return true}return H.includes(e.keyCode)}var G="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAgOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNTUuMjYzdjMuOTcyaC02Ljc3TTEgNC4yMTZsMi0yLjAzOG0tMiAybDIgMi4wMzgiLz48L3N2Zz4=";
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var q=["before","after"];var $=(new DOMParser).parseFromString(G,"image/svg+xml").firstChild;var X="ck-widget__type-around_disabled";var ee=function(e){__extends(t,e);function t(t){var i=e.call(this,t)||this;i._currentFakeCaretModelElement=null;return i}Object.defineProperty(t,"pluginName",{get:function(){return"WidgetTypeAround"},enumerable:false,configurable:true});t.prototype.init=function(){var e=this.editor;var t=e.editing.view;this.on("change:isEnabled",(function(i,r,n){t.change((function(e){for(var i=0,r=t.document.roots;i<r.length;i++){var o=r[i];if(n){e.removeClass(X,o)}else{e.addClass(X,o)}}}));if(!n){e.model.change((function(e){e.removeSelectionAttribute(c)}))}}));this._enableTypeAroundUIInjection();this._enableInsertingParagraphsOnButtonClick();this._enableInsertingParagraphsOnEnterKeypress();this._enableInsertingParagraphsOnTypingKeystroke();this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows();this._enableDeleteIntegration();this._enableInsertContentIntegration()};t.prototype.destroy=function(){this._currentFakeCaretModelElement=null};t.prototype._insertParagraph=function(e,t){var i=this.editor;var r=i.editing.view;i.execute("insertParagraph",{position:i.model.createPositionAt(e,t)});r.focus();r.scrollToTheSelection()};t.prototype._listenToIfEnabled=function(e,t,i,r){var n=this;this.listenTo(e,t,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(n.isEnabled){i.apply(void 0,e)}}),r)};t.prototype._insertParagraphAccordingToFakeCaretPosition=function(){var e=this.editor;var t=e.model;var i=t.document.selection;var r=d(i);if(!r){return false}var n=i.getSelectedElement();this._insertParagraph(n,r);return true};t.prototype._enableTypeAroundUIInjection=function(){var e=this.editor;var t=e.model.schema;var i=e.locale.t;var r={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(function(e,i,n){var o=n.mapper.toViewElement(i.item);if(f(o,i.item,t)){te(n.writer,r,o)}}),{priority:"low"})};t.prototype._enableTypeAroundFakeCaretActivationUsingKeyboardArrows=function(){var e=this;var t=this.editor;var i=t.model;var r=i.document.selection;var n=i.schema;var o=t.editing.view;this._listenToIfEnabled(o.document,"keydown",(function(t,i){if(v(i.keyCode)){e._handleArrowKeyPress(t,i)}}),{priority:h.get("high")+10});this._listenToIfEnabled(r,"change:range",(function(e,i){if(!i.directChange){return}t.model.change((function(e){e.removeSelectionAttribute(c)}))}));this._listenToIfEnabled(i.document,"change:data",(function(){var e=r.getSelectedElement();if(e){var i=t.editing.mapper.toViewElement(e);if(f(i,e,n)){return}}t.model.change((function(e){e.removeSelectionAttribute(c)}))}));this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(function(t,i,r){var o=r.writer;if(e._currentFakeCaretModelElement){var s=r.mapper.toViewElement(e._currentFakeCaretModelElement);if(s){o.removeClass(q.map(a),s);e._currentFakeCaretModelElement=null}}var u=i.selection.getSelectedElement();if(!u){return}var l=r.mapper.toViewElement(u);if(!f(l,u,n)){return}var c=d(i.selection);if(!c){return}o.addClass(a(c),l);e._currentFakeCaretModelElement=u}));this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(function(e,i,r){if(!r){t.model.change((function(e){e.removeSelectionAttribute(c)}))}}));function a(e){return"ck-widget_type-around_show-fake-caret_"+e}};t.prototype._handleArrowKeyPress=function(e,t){var i=this.editor;var r=i.model;var n=r.document.selection;var o=r.schema;var a=i.editing.view;var s=t.keyCode;var u=w(s,i.locale.contentLanguageDirection);var l=a.document.selection.getSelectedElement();var c=i.editing.mapper.toModelElement(l);var d;if(f(l,c,o)){d=this._handleArrowKeyPressOnSelectedWidget(u)}else if(n.isCollapsed){d=this._handleArrowKeyPressWhenSelectionNextToAWidget(u)}if(d){t.preventDefault();e.stop()}};t.prototype._handleArrowKeyPressOnSelectedWidget=function(e){var t=this.editor;var i=t.model;var r=i.document.selection;var n=d(r);return i.change((function(t){if(n){var i=n===(e?"after":"before");if(!i){t.removeSelectionAttribute(c);return true}}else{t.setSelectionAttribute(c,e?"after":"before");return true}return false}))};t.prototype._handleArrowKeyPressWhenSelectionNextToAWidget=function(e){var t=this.editor;var i=t.model;var r=i.schema;var n=t.plugins.get("Widget");var o=n._getObjectElementNextToSelection(e);var a=t.editing.mapper.toViewElement(o);if(f(a,o,r)){i.change((function(t){n._setSelectionOverElement(o);t.setSelectionAttribute(c,e?"before":"after")}));return true}return false};t.prototype._enableInsertingParagraphsOnButtonClick=function(){var e=this;var t=this.editor;var i=t.editing.view;this._listenToIfEnabled(i.document,"mousedown",(function(r,n){var o=g(n.domTarget);if(!o){return}var a=p(o);var s=m(o,i.domConverter);var u=t.editing.mapper.toModelElement(s);e._insertParagraph(u,a);n.preventDefault();r.stop()}))};t.prototype._enableInsertingParagraphsOnEnterKeypress=function(){var e=this;var t=this.editor;var i=t.editing.view;this._listenToIfEnabled(i.document,"enter",(function(r,n){var o=i.document.selection.getSelectedElement();var a=t.editing.mapper.toModelElement(o);var s=t.model.schema;var u;if(e._insertParagraphAccordingToFakeCaretPosition()){u=true}else if(f(o,a,s)){e._insertParagraph(a,n.isSoft?"before":"after");u=true}if(u){n.preventDefault();r.stop()}}))};t.prototype._enableInsertingParagraphsOnTypingKeystroke=function(){var e=this;var t=this.editor;var i=t.editing.view;var r=[b.enter,b.delete,b.backspace];this._listenToIfEnabled(i.document,"keydown",(function(t,i){if(!r.includes(i.keyCode)&&!J(i)){e._insertParagraphAccordingToFakeCaretPosition()}}),{priority:h.get("high")+1})};t.prototype._enableDeleteIntegration=function(){var e=this.editor;var t=e.editing.view;var i=e.model;var r=i.schema;this._listenToIfEnabled(t.document,"delete",(function(t,n){var o=d(i.document.selection);if(!o){return}var a=n.direction;var s=i.document.selection.getSelectedElement();var u=o==="before";var l=a=="forward";var c=u===l;if(c){e.execute("delete",{selection:i.createSelection(s,"on")})}else{var f=r.getNearestSelectionRange(i.createPositionAt(s,o),a);if(f){if(!f.isCollapsed){i.change((function(t){t.setSelection(f);e.execute(l?"forwardDelete":"delete")}))}else{var v=i.createSelection(f.start);i.modifySelection(v,{direction:a});if(!v.focus.isEqual(f.start)){i.change((function(t){t.setSelection(f);e.execute(l?"forwardDelete":"delete")}))}else{var h=ne(r,f.start.parent);i.deleteContent(i.createSelection(h,"on"),{doNotAutoparagraph:true})}}}}n.preventDefault();t.stop()}),{priority:h.get("high")+1})};t.prototype._enableInsertContentIntegration=function(){var e=this.editor;var t=this.editor.model;var i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(function(e,r){var n=r[0],o=r[1];if(o&&!o.is("documentSelection")){return}var a=d(i);if(!a){return}e.stop();return t.change((function(e){var r=i.getSelectedElement();var o=t.createPositionAt(r,a);var s=e.createSelection(o);var u=t.insertContent(n,s);e.setSelection(s);return u}))}),{priority:"high"})};return t}(a);function te(e,t,i){var r=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){var i=this.toDomElement(e);ie(i,t);re(i);return i}));e.insert(e.createPositionAt(i,"end"),r)}function ie(e,t){for(var i=0,r=q;i<r.length;i++){var n=r[i];var o=new y({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+n],title:t[n]},children:[e.ownerDocument.importNode($,true)]});e.appendChild(o.render())}}function re(e){var t=new y({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}function ne(e,t){var i=t;for(var r=0,n=t.getAncestors({parentFirst:true});r<n.length;r++){var o=n[r];if(o.childCount>1||e.isLimit(o)){break}i=o}return i}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function oe(e){var t=e.model;return function(i,r){var n=r.keyCode==b.arrowup;var o=r.keyCode==b.arrowdown;var a=r.shiftKey;var s=t.document.selection;if(!n&&!o){return}var u=o;if(a&&ce(s,u)){return}var l=ae(e,s,u);if(!l||l.isCollapsed){return}if(le(e,l,u)){t.change((function(e){var i=u?l.end:l.start;if(a){var r=t.createSelection(s.anchor);r.setFocus(i);e.setSelection(r)}else{e.setSelection(i)}}));i.stop();r.preventDefault();r.stopPropagation()}}}function ae(e,t,i){var r=e.model;if(i){var n=t.isCollapsed?t.focus:t.getLastPosition();var o=se(r,n,"forward");if(!o){return null}var a=r.createRange(n,o);var s=ue(r.schema,a,"backward");if(s&&n.isBefore(s)){return r.createRange(n,s)}return null}else{var o=t.isCollapsed?t.focus:t.getFirstPosition();var n=se(r,o,"backward");if(!n){return null}var a=r.createRange(n,o);var u=ue(r.schema,a,"forward");if(u&&o.isAfter(u)){return r.createRange(u,o)}return null}}function se(e,t,i){var r=e.schema;var n=e.createRangeIn(t.root);var o=i=="forward"?"elementStart":"elementEnd";for(var a=0,s=n.getWalker({startPosition:t,direction:i});a<s.length;a++){var u=s[a],l=u.previousPosition,c=u.item,d=u.type;if(r.isLimit(c)&&!r.isInline(c)){return l}if(d==o&&r.isBlock(c)){return null}}return null}function ue(e,t,i){var r=i=="backward"?t.end:t.start;if(e.checkChild(r,"$text")){return r}for(var n=0,o=t.getWalker({direction:i});n<o.length;n++){var a=o[n].nextPosition;if(e.checkChild(a,"$text")){return a}}}function le(e,t,i){var r=e.model;var n=e.view.domConverter;if(i){var o=r.createSelection(t.start);r.modifySelection(o);if(!o.focus.isAtEnd&&!t.start.isEqual(o.focus)){t=r.createRange(o.focus,t.end)}}var a=e.mapper.toViewRange(t);var s=n.viewRangeToDom(a);var u=M.getDomRangeRects(s);var l;for(var c=0,d=u;c<d.length;c++){var f=d[c];if(l===undefined){l=Math.round(f.bottom);continue}if(Math.round(f.top)>=l){return false}l=Math.max(l,Math.round(f.bottom))}return true}function ce(e,t){return!e.isCollapsed&&e.isBackward==t}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var de=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t,"pluginName",{get:function(){return"Widget"},enumerable:false,configurable:true});Object.defineProperty(t,"requires",{get:function(){return[ee]},enumerable:false,configurable:true});t.prototype.init=function(){var e=this;var t=this.editor.editing.view;var i=t.document;this._previouslySelected=new Set;this.editor.editing.downcastDispatcher.on("selection",(function(t,i,r){e._clearPreviouslySelectedWidgets(r.writer);var n=r.writer;var o=n.document.selection;var a=o.getSelectedElement();var s=null;for(var u=0,l=o.getRanges();u<l.length;u++){var c=l[u];for(var d=0,f=c;d<f.length;d++){var v=f[d];var h=v.item;if(_(h)&&!ve(h,s)){n.addClass(A,h);e._previouslySelected.add(h);s=h;if(h==a){n.setSelection(o.getRanges(),{fake:true,label:T(a)})}}}}}),{priority:"low"});t.addObserver(j);this.listenTo(i,"mousedown",(function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return e._onMousedown.apply(e,t)}));this.listenTo(i,"keydown",(function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}e._handleSelectionChangeOnArrowKeyPress.apply(e,t)}),{priority:"high"});this.listenTo(i,"keydown",(function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}e._preventDefaultOnArrowKeyPress.apply(e,t)}),{priority:h.get("high")-20});this.listenTo(i,"keydown",oe(this.editor.editing));this.listenTo(i,"delete",(function(t,i){if(e._handleDelete(i.direction=="forward")){i.preventDefault();t.stop()}}),{priority:"high"})};t.prototype._onMousedown=function(e,t){var i=this.editor;var r=i.editing.view;var n=r.document;var o=t.target;if(fe(o)){if((k.isSafari||k.isGecko)&&t.domEvent.detail>=3){var a=i.editing.mapper;var s=o.is("attributeElement")?o.findAncestor((function(e){return!e.is("attributeElement")})):o;var u=a.toModelElement(s);t.preventDefault();this.editor.model.change((function(e){e.setSelection(u,"in")}))}return}if(!_(o)){o=o.findAncestor(_);if(!o){return}}t.preventDefault();if(!n.isFocused){r.focus()}var l=i.editing.mapper.toModelElement(o);this._setSelectionOverElement(l)};t.prototype._handleSelectionChangeOnArrowKeyPress=function(e,t){var i=t.keyCode;if(!v(i)){return}var r=this.editor.model;var n=r.schema;var o=r.document.selection;var a=o.getSelectedElement();var s=w(i,this.editor.locale.contentLanguageDirection);if(a&&n.isObject(a)){var u=s?o.getLastPosition():o.getFirstPosition();var l=n.getNearestSelectionRange(u,s?"forward":"backward");if(l){r.change((function(e){e.setSelection(l)}));t.preventDefault();e.stop()}return}if(!o.isCollapsed){return}var c=this._getObjectElementNextToSelection(s);if(c&&n.isObject(c)){this._setSelectionOverElement(c);t.preventDefault();e.stop()}};t.prototype._preventDefaultOnArrowKeyPress=function(e,t){var i=t.keyCode;if(!v(i)){return}var r=this.editor.model;var n=r.schema;var o=r.document.selection.getSelectedElement();if(o&&n.isObject(o)){t.preventDefault();e.stop()}};t.prototype._handleDelete=function(e){var t=this;if(this.editor.isReadOnly){return}var i=this.editor.model.document;var r=i.selection;if(!r.isCollapsed){return}var n=this._getObjectElementNextToSelection(e);if(n){this.editor.model.change((function(e){var i=r.anchor.parent;while(i.isEmpty){var o=i;i=o.parent;e.remove(o)}t._setSelectionOverElement(n)}));return true}};t.prototype._setSelectionOverElement=function(e){this.editor.model.change((function(t){t.setSelection(t.createRangeOn(e))}))};t.prototype._getObjectElementNextToSelection=function(e){var t=this.editor.model;var i=t.schema;var r=t.document.selection;var n=t.createSelection(r);t.modifySelection(n,{direction:e?"forward":"backward"});var o=e?n.focus.nodeBefore:n.focus.nodeAfter;if(!!o&&i.isObject(o)){return o}return null};t.prototype._clearPreviouslySelectedWidgets=function(e){for(var t=0,i=this._previouslySelected;t<i.length;t++){var r=i[t];e.removeClass(A,r)}this._previouslySelected.clear()};return t}(a);function fe(e){while(e){if(e.is("editableElement")&&!e.is("rootElement")){return true}if(_(e)){return false}e=e.parent}return false}function ve(e,t){if(!t){return false}return Array.from(e.getAncestors()).includes(t)}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var he=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.refresh=function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=S(e);if(S(e)&&e.hasAttribute("alt")){this.value=e.getAttribute("alt")}else{this.value=false}};t.prototype.execute=function(e){var t=this.editor.model;var i=t.document.selection.getSelectedElement();t.change((function(t){t.setAttribute("alt",e.newValue,i)}))};return t}(i);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var ge=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t,"pluginName",{get:function(){return"ImageTextAlternativeEditing"},enumerable:false,configurable:true});t.prototype.init=function(){this.editor.commands.add("imageTextAlternative",new he(this.editor))};return t}(a);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var pe=function(e){__extends(t,e);function t(t){var i=e.call(this,t)||this;i.set("text");i.set("for");i.id="ck-editor__label_"+D();var r=i.bindTemplate;i.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:i.id,for:r.to("for")},children:[{text:r.to("text")}]});return i}return t}(I);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var me=function(e){__extends(t,e);function t(t,i){var r=e.call(this,t)||this;var n="ck-labeled-field-view-"+D();var o="ck-labeled-field-view-status-"+D();r.fieldView=i(r,n,o);r.set("label");r.set("isEnabled",true);r.set("isEmpty",true);r.set("isFocused",false);r.set("errorText",null);r.set("infoText",null);r.set("class");r.set("placeholder");r.labelView=r._createLabelView(n);r.statusView=r._createStatusView(o);r.bind("_statusText").to(r,"errorText",r,"infoText",(function(e,t){return e||t}));var a=r.bindTemplate;r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",a.to("class"),a.if("isEnabled","ck-disabled",(function(e){return!e})),a.if("isEmpty","ck-labeled-field-view_empty"),a.if("isFocused","ck-labeled-field-view_focused"),a.if("placeholder","ck-labeled-field-view_placeholder"),a.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[r.fieldView,r.labelView]},r.statusView]});return r}t.prototype._createLabelView=function(e){var t=new pe(this.locale);t.for=e;t.bind("text").to(this,"label");return t};t.prototype._createStatusView=function(e){var t=new I(this.locale);var i=this.bindTemplate;t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",(function(e){return!e}))],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]});return t};t.prototype.focus=function(){this.fieldView.focus()};return t}(I);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var we=function(e){__extends(t,e);function t(t){var i=e.call(this,t)||this;i.set("value");i.set("id");i.set("placeholder");i.set("isReadOnly",false);i.set("hasError",false);i.set("ariaDescribedById");i.focusTracker=new L;i.bind("isFocused").to(i.focusTracker);i.set("isEmpty",true);var r=i.bindTemplate;i.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",true),"aria-describedby":r.to("ariaDescribedById")},on:{input:r.to("input"),change:r.to(i._updateIsEmpty.bind(i))}});return i}t.prototype.render=function(){var t=this;e.prototype.render.call(this);this.focusTracker.add(this.element);this._setDomElementValue(this.value);this._updateIsEmpty();this.on("change:value",(function(e,i,r){t._setDomElementValue(r);t._updateIsEmpty()}))};t.prototype.select=function(){this.element.select()};t.prototype.focus=function(){this.element.focus()};t.prototype._updateIsEmpty=function(){this.isEmpty=be(this.element)};t.prototype._setDomElementValue=function(e){this.element.value=!e&&e!==0?"":e};return t}(I);function be(e){return!e.value}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function ye(e,t,i){var r=new we(e.locale);r.set({id:t,ariaDescribedById:i});r.bind("isReadOnly").to(e,"isEnabled",(function(e){return!e}));r.bind("hasError").to(e,"errorText",(function(e){return!!e}));r.on("input",(function(){e.errorText=null}));e.bind("isEmpty","isFocused","placeholder").to(r);return r}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function Me(e){e.set("_isCssTransitionsDisabled",false);e.disableCssTransitions=function(){e._isCssTransitionsDisabled=true};e.enableCssTransitions=function(){e._isCssTransitionsDisabled=false};e.extendTemplate({attributes:{class:[e.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function _e(e){var t=e.view;t.listenTo(t.element,"submit",(function(e,i){i.preventDefault();t.fire("submit")}),{useCapture:true})}var Ae="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuOTcyIDE2LjYxNWEuOTk3Ljk5NyAwIDAgMS0uNzQ0LS4yOTJsLTQuNTk2LTQuNTk2YTEgMSAwIDEgMSAxLjQxNC0xLjQxNGwzLjkyNiAzLjkyNiA5LjkzNy05LjkzN2ExIDEgMCAwIDEgMS40MTQgMS40MTVMNy43MTcgMTYuMzIzYS45OTcuOTk3IDAgMCAxLS43NDUuMjkyeiIvPjwvc3ZnPg==";var Te="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjU5MSAxMC4xNzdsNC4yNDMgNC4yNDJhMSAxIDAgMCAxLTEuNDE1IDEuNDE1bC00LjI0Mi00LjI0My00LjI0MyA0LjI0M2ExIDEgMCAwIDEtMS40MTQtMS40MTVsNC4yNDMtNC4yNDJMNC41MiA1LjkzNEExIDEgMCAwIDEgNS45MzQgNC41Mmw0LjI0MyA0LjI0MyA0LjI0Mi00LjI0M2ExIDEgMCAxIDEgMS40MTUgMS40MTRsLTQuMjQzIDQuMjQzeiIvPjwvc3ZnPg==";
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var je=function(e){__extends(t,e);function t(t){var i=e.call(this,t)||this;var r=i.locale.t;i.focusTracker=new L;i.keystrokes=new N;i.labeledInput=i._createLabeledInputView();i.saveButtonView=i._createButton(r("Save"),Ae,"ck-button-save");i.saveButtonView.type="submit";i.cancelButtonView=i._createButton(r("Cancel"),Te,"ck-button-cancel","cancel");i._focusables=new E;i._focusCycler=new x({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});i.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[i.labeledInput,i.saveButtonView,i.cancelButtonView]});Me(i);return i}t.prototype.render=function(){var t=this;e.prototype.render.call(this);this.keystrokes.listenTo(this.element);_e({view:this});[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((function(e){t._focusables.add(e);t.focusTracker.add(e.element)}))};t.prototype._createButton=function(e,t,i,r){var n=new C(this.locale);n.set({label:e,icon:t,tooltip:true});n.extendTemplate({attributes:{class:i}});if(r){n.delegate("execute").to(this,r)}return n};t.prototype._createLabeledInputView=function(){var e=this.locale.t;var t=new me(this.locale,ye);t.label=e("Text alternative");return t};return t}(I);var ke="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjQ2MyA1LjE4N2EuODg4Ljg4OCAwIDEgMSAxLjI1NCAxLjI1NUw5LjE2IDEwbDMuNTU3IDMuNTU3YS44ODguODg4IDAgMSAxLTEuMjU0IDEuMjU1TDcuMjYgMTAuNjFhLjg4OC44ODggMCAwIDEgLjE2LTEuMzgybDQuMDQzLTQuMDQyeiIvPjwvc3ZnPg==";var Se="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguNTM3IDE0LjgxM2EuODg4Ljg4OCAwIDEgMS0xLjI1NC0xLjI1NUwxMC44NCAxMCA3LjI4MyA2LjQ0MmEuODg4Ljg4OCAwIDEgMSAxLjI1NC0xLjI1NUwxMi43NCA5LjM5YS44ODguODg4IDAgMCAxLS4xNiAxLjM4MmwtNC4wNDMgNC4wNDJ6Ii8+PC9zdmc+";
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Ie=V("px");var De=function(e){__extends(t,e);function t(t){var i=e.call(this,t)||this;i.positionLimiter=function(){var e=i.editor.editing.view;var t=e.document;var r=t.selection.editableElement;if(r){return e.domConverter.mapViewToDom(r.root)}return null};i.set("visibleView",null);i.view=new O(t.locale);t.ui.view.body.add(i.view);t.ui.focusTracker.add(i.view.element);i._viewToStack=new Map;i._idToStack=new Map;i.set("_numberOfStacks",0);i.set("_singleViewMode",false);i._rotatorView=i._createRotatorView();i._fakePanelsView=i._createFakePanelsView();return i}Object.defineProperty(t,"pluginName",{get:function(){return"ContextualBalloon"},enumerable:false,configurable:true});t.prototype.hasView=function(e){return Array.from(this._viewToStack.keys()).includes(e)};t.prototype.add=function(e){if(this.hasView(e.view)){throw new P("contextualballoon-add-view-exist",[this,e])}var t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]]));this._viewToStack.set(e.view,this._idToStack.get(t));this._numberOfStacks=this._idToStack.size;if(!this._visibleStack||e.singleViewMode){this.showStack(t)}return}var i=this._idToStack.get(t);if(e.singleViewMode){this.showStack(t)}i.set(e.view,e);this._viewToStack.set(e.view,i);if(i===this._visibleStack){this._showView(e)}};t.prototype.remove=function(e){if(!this.hasView(e)){throw new P("contextualballoon-remove-view-not-exist",[this,e])}var t=this._viewToStack.get(e);if(this._singleViewMode&&this.visibleView===e){this._singleViewMode=false}if(this.visibleView===e){if(t.size===1){if(this._idToStack.size>1){this._showNextStack()}else{this.view.hide();this.visibleView=null;this._rotatorView.hideView()}}else{this._showView(Array.from(t.values())[t.size-2])}}if(t.size===1){this._idToStack.delete(this._getStackId(t));this._numberOfStacks=this._idToStack.size}else{t.delete(e)}this._viewToStack.delete(e)};t.prototype.updatePosition=function(e){if(e){this._visibleStack.get(this.visibleView).position=e}this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition()};t.prototype.showStack=function(e){this.visibleStack=e;var t=this._idToStack.get(e);if(!t){throw new P("contextualballoon-showstack-stack-not-exist",this)}if(this._visibleStack===t){return}this._showView(Array.from(t.values()).pop())};Object.defineProperty(t.prototype,"_visibleStack",{get:function(){return this._viewToStack.get(this.visibleView)},enumerable:false,configurable:true});t.prototype._getStackId=function(e){var t=Array.from(this._idToStack.entries()).find((function(t){return t[1]===e}));return t[0]};t.prototype._showNextStack=function(){var e=Array.from(this._idToStack.values());var t=e.indexOf(this._visibleStack)+1;if(!e[t]){t=0}this.showStack(this._getStackId(e[t]))};t.prototype._showPrevStack=function(){var e=Array.from(this._idToStack.values());var t=e.indexOf(this._visibleStack)-1;if(!e[t]){t=e.length-1}this.showStack(this._getStackId(e[t]))};t.prototype._createRotatorView=function(){var e=this;var t=new Le(this.editor.locale);var i=this.editor.locale.t;this.view.content.add(t);t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>1}));t.on("change:isNavigationVisible",(function(){return e.updatePosition()}),{priority:"low"});t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(function(t,r){if(r<2){return""}var n=Array.from(e._idToStack.values()).indexOf(e._visibleStack)+1;return i("%0 of %1",[n,r])}));t.buttonNextView.on("execute",(function(){if(t.focusTracker.isFocused){e.editor.editing.view.focus()}e._showNextStack()}));t.buttonPrevView.on("execute",(function(){if(t.focusTracker.isFocused){e.editor.editing.view.focus()}e._showPrevStack()}));return t};t.prototype._createFakePanelsView=function(){var e=new Ne(this.editor.locale,this.view);e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){var i=!t&&e>=2;return i?Math.min(e-1,2):0}));e.listenTo(this.view,"change:top",(function(){return e.updatePosition()}));e.listenTo(this.view,"change:left",(function(){return e.updatePosition()}));this.editor.ui.view.body.add(e);return e};t.prototype._showView=function(e){var t=e.view,i=e.balloonClassName,r=i===void 0?"":i,n=e.withArrow,o=n===void 0?true:n,a=e.singleViewMode,s=a===void 0?false:a;this.view.class=r;this.view.withArrow=o;this._rotatorView.showView(t);this.visibleView=t;this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition();if(s){this._singleViewMode=true}};t.prototype._getBalloonPosition=function(){var e=Array.from(this._visibleStack.values()).pop().position;if(e&&!e.limiter){e=Object.assign({},e,{limiter:this.positionLimiter})}return e};return t}(a);var Le=function(e){__extends(t,e);function t(t){var i=e.call(this,t)||this;var r=t.t;var n=i.bindTemplate;i.set("isNavigationVisible",true);i.focusTracker=new L;i.buttonPrevView=i._createButtonView(r("Previous"),ke);i.buttonNextView=i._createButtonView(r("Next"),Se);i.content=i.createCollection();i.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(function(e){return e?"":"ck-hidden"}))]},children:[i.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},i.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:i.content}]});return i}t.prototype.render=function(){e.prototype.render.call(this);this.focusTracker.add(this.element)};t.prototype.showView=function(e){this.hideView();this.content.add(e)};t.prototype.hideView=function(){this.content.clear()};t.prototype._createButtonView=function(e,t){var i=new C(this.locale);i.set({label:e,icon:t,tooltip:true});return i};return t}(I);var Ne=function(e){__extends(t,e);function t(t,i){var r=e.call(this,t)||this;var n=r.bindTemplate;r.set("top",0);r.set("left",0);r.set("height",0);r.set("width",0);r.set("numberOfPanels",0);r.content=r.createCollection();r._balloonPanelView=i;r.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(function(e){return e?"":"ck-hidden"}))],style:{top:n.to("top",Ie),left:n.to("left",Ie),width:n.to("width",Ie),height:n.to("height",Ie)}},children:r.content});r.on("change:numberOfPanels",(function(e,t,i,n){if(i>n){r._addPanels(i-n)}else{r._removePanels(n-i)}r.updatePosition()}));return r}t.prototype._addPanels=function(e){while(e--){var t=new I;t.setTemplate({tag:"div"});this.content.add(t);this.registerChild(t)}};t.prototype._removePanels=function(e){while(e--){var t=this.content.last;this.content.remove(t);this.deregisterChild(t);t.destroy()}};t.prototype.updatePosition=function(){if(this.numberOfPanels){var e=this._balloonPanelView,t=e.top,i=e.left;var r=new M(this._balloonPanelView.element),n=r.width,o=r.height;Object.assign(this,{top:t,left:i,width:n,height:o})}};return t}(I);var Ee="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUuMDg1IDYuMjJMMi45NDMgNC4wNzhhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwyLjU5MiAyLjU5QTExLjA5NCAxMS4wOTQgMCAwIDEgMTAgNS4wNjhjNC43MzggMCA4LjU3OCAzLjEwMSA4LjU3OCA1LjA4MyAwIDEuMTk3LTEuNDAxIDIuODAzLTMuNTU1IDMuODg3bDEuNzE0IDEuNzEzYS43NS43NSAwIDAgMS0uMDkgMS4xMzguNDg4LjQ4OCAwIDAgMS0uMTUuMDg0Ljc1Ljc1IDAgMCAxLS44MjEtLjE2TDYuMTcgNy4zMDRjLS4yNTguMTEtLjUxLjIzMy0uNzU3LjM2NWw2LjIzOSA2LjI0LS4wMDYuMDA1Ljc4Ljc4Yy0uMzg4LjA5NC0uNzguMTY2LTEuMTc0LjIxNWwtMS4xMS0xLjExaC4wMTFMNC41NSA4LjE5N2E3LjIgNy4yIDAgMCAwLS42NjUuNTE0bC0uMTEyLjA5OCA0Ljg5NyA0Ljg5Ny0uMDA1LjAwNiAxLjI3NiAxLjI3NmExMC4xNjQgMTAuMTY0IDAgMCAxLTEuNDc3LS4xMTdsLS40NzktLjQ3OS0uMDA5LjAwOS00Ljg2My00Ljg2My0uMDIyLjAzMWEyLjU2MyAyLjU2MyAwIDAgMC0uMTI0LjJjLS4wNDMuMDc3LS4wOC4xNTgtLjEwOC4yNDFhLjUzNC41MzQgMCAwIDAtLjAyOC4xMzMuMjkuMjkgMCAwIDAgLjAwOC4wNzIuOTI3LjkyNyAwIDAgMCAuMDgyLjIyNmMuMDY3LjEzMy4xNDUuMjYuMjM0LjM3OWwzLjI0MiAzLjM2NS4wMjUuMDEuNTkuNjIzYy0zLjI2NS0uOTE4LTUuNTktMy4xNTUtNS41OS00LjY2OCAwLTEuMTk0IDEuNDQ4LTIuODM4IDMuNjYzLTMuOTN6bTcuMDcuNTMxYTQuNjMyIDQuNjMyIDAgMCAxIDEuMTA4IDUuOTkybC4zNDUuMzQ0LjA0Ni0uMDE4YTkuMzEzIDkuMzEzIDAgMCAwIDItMS4xMTJjLjI1Ni0uMTg3LjUtLjM5Mi43MjctLjYxMy4xMzctLjEzNC4yNy0uMjc3LjM5Mi0uNDMxLjA3Mi0uMDkxLjE0MS0uMTg1LjIwMy0uMjg2LjA1Ny0uMDkzLjEwNy0uMTkuMTQ4LS4yOTJhLjcyLjcyIDAgMCAwIC4wMzYtLjEyLjI5LjI5IDAgMCAwIC4wMDgtLjA3Mi40OTIuNDkyIDAgMCAwLS4wMjgtLjEzMy45OTkuOTk5IDAgMCAwLS4wMzYtLjA5NiAyLjE2NSAyLjE2NSAwIDAgMC0uMDcxLS4xNDUgMi45MTcgMi45MTcgMCAwIDAtLjEyNS0uMiAzLjU5MiAzLjU5MiAwIDAgMC0uMjYzLS4zMzUgNS40NDQgNS40NDQgMCAwIDAtLjUzLS41MjMgNy45NTUgNy45NTUgMCAwIDAtMS4wNTQtLjc2OCA5Ljc2NiA5Ljc2NiAwIDAgMC0xLjg3OS0uODkxYy0uMzM3LS4xMTgtLjY4LS4yMTktMS4wMjctLjMwMXptLTIuODUuMjFsLS4wNjkuMDAyYS41MDguNTA4IDAgMCAwLS4yNTQuMDk3LjQ5Ni40OTYgMCAwIDAtLjEwNC42NzkuNDk4LjQ5OCAwIDAgMCAuMzI2LjE5OWwuMDQ1LjAwNWMuMDkxLjAwMy4xODEuMDAzLjI3Mi4wMTJhMi40NSAyLjQ1IDAgMCAxIDIuMDE3IDEuNTEzYy4wMjQuMDYxLjA0My4xMjUuMDY5LjE4NWEuNDk0LjQ5NCAwIDAgMCAuNDUuMjg3aC4wMDhhLjQ5Ni40OTYgMCAwIDAgLjM1LS4xNTguNDgyLjQ4MiAwIDAgMCAuMTMtLjMzNS42MzguNjM4IDAgMCAwLS4wNDgtLjIxOSAzLjM3OSAzLjM3OSAwIDAgMC0uMzYtLjcyMyAzLjQzOCAzLjQzOCAwIDAgMC0yLjc5MS0xLjU0M2wtLjAyOC0uMDAxaC0uMDEzeiIvPjwvc3ZnPg==";
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function xe(e){var t=e.plugins.get("ContextualBalloon");if(z(e.editing.view.document.selection)){var i=Ce(e);t.updatePosition(i)}}function Ce(e){var t=e.editing.view;var i=O.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast]}}
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Oe=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t,"requires",{get:function(){return[De]},enumerable:false,configurable:true});Object.defineProperty(t,"pluginName",{get:function(){return"ImageTextAlternativeUI"},enumerable:false,configurable:true});t.prototype.init=function(){this._createButton();this._createForm()};t.prototype.destroy=function(){e.prototype.destroy.call(this);this._form.destroy()};t.prototype._createButton=function(){var e=this;var t=this.editor;var i=t.t;t.ui.componentFactory.add("imageTextAlternative",(function(r){var n=t.commands.get("imageTextAlternative");var o=new C(r);o.set({label:i("Change image text alternative"),icon:Ee,tooltip:true});o.bind("isEnabled").to(n,"isEnabled");e.listenTo(o,"execute",(function(){e._showForm()}));return o}))};t.prototype._createForm=function(){var e=this;var t=this.editor;var i=t.editing.view;var r=i.document;this._balloon=this.editor.plugins.get("ContextualBalloon");this._form=new je(t.locale);this._form.render();this.listenTo(this._form,"submit",(function(){t.execute("imageTextAlternative",{newValue:e._form.labeledInput.fieldView.element.value});e._hideForm(true)}));this.listenTo(this._form,"cancel",(function(){e._hideForm(true)}));this._form.keystrokes.set("Esc",(function(t,i){e._hideForm(true);i()}));this.listenTo(t.ui,"update",(function(){if(!z(r.selection)){e._hideForm(true)}else if(e._isVisible){xe(t)}}));Q({emitter:this._form,activator:function(){return e._isVisible},contextElements:[this._balloon.view.element],callback:function(){return e._hideForm()}})};t.prototype._showForm=function(){if(this._isVisible){return}var e=this.editor;var t=e.commands.get("imageTextAlternative");var i=this._form.labeledInput;this._form.disableCssTransitions();if(!this._isInBalloon){this._balloon.add({view:this._form,position:Ce(e)})}i.fieldView.value=i.fieldView.element.value=t.value||"";this._form.labeledInput.fieldView.select();this._form.enableCssTransitions()};t.prototype._hideForm=function(e){if(!this._isInBalloon){return}if(this._form.focusTracker.isFocused){this._form.saveButtonView.focus()}this._balloon.remove(this._form);if(e){this.editor.editing.view.focus()}};Object.defineProperty(t.prototype,"_isVisible",{get:function(){return this._balloon.visibleView===this._form},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"_isInBalloon",{get:function(){return this._balloon.hasView(this._form)},enumerable:false,configurable:true});return t}(a);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Pe=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t,"requires",{get:function(){return[ge,Oe]},enumerable:false,configurable:true});Object.defineProperty(t,"pluginName",{get:function(){return"ImageTextAlternative"},enumerable:false,configurable:true});return t}(a);
/**
             * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */var Ve=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t,"requires",{get:function(){return[W,de,Pe]},enumerable:false,configurable:true});Object.defineProperty(t,"pluginName",{get:function(){return"Image"},enumerable:false,configurable:true});return t}(a);e("default",Ve)}}}));